class Solution:
    def numberOfSubstrings(self, s: str) -> int:
        start=0
        leng=len(s)
        h=dict()
        h['a']=0
        h['b']=0
        h['c']=0
        count=0
        end=1
        while (start<leng-2):
            #print("checking for start and end ",start," and ",end)
            if end>leng:
                h[s[start]]-=1
                start+=1
                end-=1
                h[s[end-1]]-=1
            h[s[end-1]]+=1
            if h['c']>0 and h['a']>0 and h['b']>0:
                count+=leng-end+1
                h[s[start]]-=1
                start+=1
                h[s[end-1]]-=1
                end-=1
            end+=1
        return count
            
            
